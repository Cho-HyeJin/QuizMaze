<!DOCTYPE html>

<html>

<head>
	<title>WebGL maze</title>
	<link rel="stylesheet" type="text/css" href="css/stylesheet.css" />
</head>


<body>

<canvas id="main-canvas" width="640" height="480"></canvas>


<script id="fragment-shader" type="x-shader/x-fragment">
// <![CDATA[
#ifdef GL_ES
precision highp float;
#endif

varying vec3 fpos;
varying vec3 fcol;

	void main(void) {
		float dst = length(fpos);
		float fact = dst<2. ? 1. : (2./dst-0.2)/0.8;
		gl_FragColor = vec4(fcol*fact, 1.);
	}
//]]>
</script>

<script id="vertex-shader" type="x-shader/x-vertex">
// <![CDATA[
attribute vec3 vpos;
attribute vec3 vcol;

uniform vec3 opos;
uniform mat4 pmat;
uniform mat4 rmat;

varying vec3 fpos;
varying vec3 fcol;

	void main(void) {
		fpos = vpos - opos;
		fcol = vcol;
		gl_Position = pmat * rmat * vec4(fpos,1.);
	}
//]]>
</script>
<script src="madmaze.js"></script>
</body>
</html>
